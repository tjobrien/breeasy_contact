http://railscasts.com/episodes/250-authentication-from-scratch?view=asciicast
Used this for authentication.